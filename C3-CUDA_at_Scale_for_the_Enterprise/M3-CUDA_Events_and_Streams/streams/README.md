this example code is meaningless. it does not consider race condition when
accessing the device memory.